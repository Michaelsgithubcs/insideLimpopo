<!DOCTYPE html>
<html lang="en">
    <%- include('../partials/head.ejs') %>

<body class="events-page">
     <!-- Header Section -->
     <%- include('../partials/header.ejs') %>
      <%- include('../partials/nav.ejs') %>

      <%- include('../partials/BreakingNews.ejs') %>
    <main class="events-container">
        
        <!-- Hero Section -->
        <section class="events-hero">
            <div class="hero-content">
                <h1>Media & Journalism Events</h1>
                <p class="subtitle">Discover upcoming conferences, workshops, and networking opportunities across South Africa</p>
            </div>
        </section>

        <!-- Search and Filter Section -->
        <section class="events-controls">
            <div class="search-filter-container">
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="Search events by name, location or date..." 
                           onkeyup="searchEvents()" aria-label="Search events">
                </div>
                <div class="filter-dropdown">
                    <select id="locationFilter" onchange="filterEvents()">
                        <option value="">All Locations</option>
                        <option value="Cape Town">Cape Town</option>
                        <option value="Johannesburg">Johannesburg</option>
                        <option value="Durban">Durban</option>
                        <option value="Pretoria">Pretoria</option>
                        <option value="Port Elizabeth">Port Elizabeth</option>
                        <option value="Limpopo">Limpopo</option>
                    </select>
                </div>
            </div>
            <div id="no-results">No matching events found. Try adjusting your search criteria.</div>
        </section>

        <!-- Tabs for Upcoming and Past Events -->
        <div class="tabs">
            <button onclick="showUpcomingEvents()" class="tab-button active">
                <i class="fas fa-calendar-alt"></i> Upcoming Events
            </button>
            <button onclick="showPastEvents()" class="tab-button">
                <i class="fas fa-history"></i> Past Events
            </button>
        </div>

        <!-- Upcoming Events Section -->
        <section id="upcoming-events" class="events-grid">
            <h2 class="section-event-title" data-aos="fade-up">Upcoming Events</h2>
            <div class="event-grid-container">
                <div class="event-card" data-aos="fade-up" data-location="Cape Town" data-date="2024-11-15">
                    <div class="event-badge upcoming">Upcoming</div>
                    <div class="event-image">
                        <img src="/assets/events/events.png" alt="Media Innovation Summit" loading="lazy">
                    </div>
                    <div class="event-content">
                        <div class="event-date">
                            <span class="day">15</span>
                            <span class="month">NOV</span>
                            <span class="year">2024</span>
                        </div>
                        <h3 class="event-title">Media Innovation Summit</h3>
                        <div class="event-meta">
                            <span class="location"><i class="fas fa-map-marker-alt"></i> Cape Town</span>
                            <span class="time"><i class="far fa-clock"></i> 9:00 AM - 5:00 PM</span>
                        </div>
                        <p class="event-description">Explore the latest trends and innovations in the media industry with leading experts.</p>
                        <div class="event-footer">
                            <a href="#" class="register-btn">Register Now</a>
                            <span class="price">From R950</span>
                        </div>
                    </div>
                </div>

                <div class="event-card" data-aos="fade-up" data-location="Johannesburg" data-date="2024-12-05">
                    <div class="event-badge upcoming">Upcoming</div>
                    <div class="event-image">
                        <img src="/assets/events/events.png" alt="Digital Marketing Conference" loading="lazy">
                    </div>
                    <div class="event-content">
                        <div class="event-date">
                            <span class="day">05</span>
                            <span class="month">DEC</span>
                            <span class="year">2024</span>
                        </div>
                        <h3 class="event-title">Digital Marketing Conference</h3>
                        <div class="event-meta">
                            <span class="location"><i class="fas fa-map-marker-alt"></i> Johannesburg</span>
                            <span class="time"><i class="far fa-clock"></i> 8:30 AM - 4:30 PM</span>
                        </div>
                        <p class="event-description">Learn from industry leaders about the future of digital marketing strategies.</p>
                        <div class="event-footer">
                            <a href="#" class="register-btn">Register Now</a>
                            <span class="price">From R1200</span>
                        </div>
                    </div>
                </div>

                <div class="event-card" data-aos="fade-up" data-location="Durban" data-date="2025-01-20">
                    <div class="event-badge upcoming">Upcoming</div>
                    <div class="event-image">
                        <img src="/assets/events/events.png" alt="Journalism Workshop" loading="lazy">
                    </div>
                    <div class="event-content">
                        <div class="event-date">
                            <span class="day">20</span>
                            <span class="month">JAN</span>
                            <span class="year">2025</span>
                        </div>
                        <h3 class="event-title">Journalism Workshop</h3>
                        <div class="event-meta">
                            <span class="location"><i class="fas fa-map-marker-alt"></i> Durban</span>
                            <span class="time"><i class="far fa-clock"></i> 10:00 AM - 3:00 PM</span>
                        </div>
                        <p class="event-description">Enhance your journalism skills with hands-on training and expert guidance.</p>
                        <div class="event-footer">
                            <a href="#" class="register-btn">Register Now</a>
                            <span class="price">R800</span>
                        </div>
                    </div>
                </div>

                <div class="event-card" data-aos="fade-up" data-location="Pretoria" data-date="2025-02-10">
                    <div class="event-badge upcoming">Upcoming</div>
                    <div class="event-image">
                        <img src="/assets/events/events.png" alt="Film Festival" loading="lazy">
                    </div>
                    <div class="event-content">
                        <div class="event-date">
                            <span class="day">10</span>
                            <span class="month">FEB</span>
                            <span class="year">2025</span>
                        </div>
                        <h3 class="event-title">Film Festival</h3>
                        <div class="event-meta">
                            <span class="location"><i class="fas fa-map-marker-alt"></i> Pretoria</span>
                            <span class="time"><i class="far fa-clock"></i> All Day Event</span>
                        </div>
                        <p class="event-description">Celebrate the best in local and international filmmaking over 3 exciting days.</p>
                        <div class="event-footer">
                            <a href="#" class="register-btn">Get Tickets</a>
                            <span class="price">From R150/day</span>
                        </div>
                    </div>
                </div>

                <div class="event-card" data-aos="fade-up" data-location="Port Elizabeth" data-date="2025-03-05">
                    <div class="event-badge upcoming">Upcoming</div>
                    <div class="event-image">
                        <img src="/assets/events/events.png" alt="Podcasting Masterclass" loading="lazy">
                    </div>
                    <div class="event-content">
                        <div class="event-date">
                            <span class="day">05</span>
                            <span class="month">MAR</span>
                            <span class="year">2025</span>
                        </div>
                        <h3 class="event-title">Podcasting Masterclass</h3>
                        <div class="event-meta">
                            <span class="location"><i class="fas fa-map-marker-alt"></i> Port Elizabeth</span>
                            <span class="time"><i class="far fa-clock"></i> 9:00 AM - 1:00 PM</span>
                        </div>
                        <p class="event-description">Learn how to create, produce and grow a successful podcast from industry experts.</p>
                        <div class="event-footer">
                            <a href="#" class="register-btn">Register Now</a>
                            <span class="price">R650</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Past Events Section -->
        <section id="past-events" class="events-grid" style="display: none;">
            <h2 class="section-title" data-aos="fade-up">Past Events</h2>
            <div class="event-grid-container">
                <div class="event-card" data-aos="fade-up" data-location="Limpopo" data-date="2023-04-15">
                    <div class="event-badge past">Past Event</div>
                    <div class="event-image">
                        <img src="/assets/events/events.png" alt="Media Awards 2023" loading="lazy">
                    </div>
                    <div class="event-content">
                        <div class="event-date">
                            <span class="day">15</span>
                            <span class="month">APR</span>
                            <span class="year">2023</span>
                        </div>
                        <h3 class="event-title">Media Awards 2023</h3>
                        <div class="event-meta">
                            <span class="location"><i class="fas fa-map-marker-alt"></i> Polokwane, Limpopo</span>
                            <span class="time"><i class="far fa-clock"></i> 7:00 PM</span>
                        </div>
                        <p class="event-description">A gala night celebrating excellence in media and journalism across South Africa.</p>
                        <div class="event-footer">
                            <a href="#" class="view-gallery-btn">View Gallery</a>
                            <a href="#" class="view-winners-btn">Winners</a>
                        </div>
                    </div>
                </div>

                <div class="event-card" data-aos="fade-up" data-location="Bloemfontein" data-date="2023-06-10">
                    <div class="event-badge past">Past Event</div>
                    <div class="event-image">
                        <img src="/assets/events/events.png" alt="Tech in Media Expo" loading="lazy">
                    </div>
                    <div class="event-content">
                        <div class="event-date">
                            <span class="day">10</span>
                            <span class="month">JUN</span>
                            <span class="year">2023</span>
                        </div>
                        <h3 class="event-title">Tech in Media Expo</h3>
                        <div class="event-meta">
                            <span class="location"><i class="fas fa-map-marker-alt"></i> Bloemfontein</span>
                            <span class="time"><i class="far fa-clock"></i> 10:00 AM - 6:00 PM</span>
                        </div>
                        <p class="event-description">Explored how emerging technologies are transforming the media landscape.</p>
                        <div class="event-footer">
                            <a href="#" class="view-gallery-btn">View Gallery</a>
                            <a href="#" class="view-resources-btn">Resources</a>
                        </div>
                    </div>
                </div>

                <div class="event-card" data-aos="fade-up" data-location="Kimberley" data-date="2023-08-05">
                    <div class="event-badge past">Past Event</div>
                    <div class="event-image">
                        <img src="/assets/events/events.png" alt="Creative Writing Seminar" loading="lazy">
                    </div>
                    <div class="event-content">
                        <div class="event-date">
                            <span class="day">05</span>
                            <span class="month">AUG</span>
                            <span class="year">2023</span>
                        </div>
                        <h3 class="event-title">Creative Writing Seminar</h3>
                        <div class="event-meta">
                            <span class="location"><i class="fas fa-map-marker-alt"></i> Kimberley</span>
                            <span class="time"><i class="far fa-clock"></i> 9:30 AM - 4:00 PM</span>
                        </div>
                        <p class="event-description">Learned the art of storytelling from renowned authors and journalists.</p>
                        <div class="event-footer">
                            <a href="#" class="view-gallery-btn">View Gallery</a>
                            <a href="#" class="view-resources-btn">Resources</a>
                        </div>
                    </div>
                </div>

                <div class="event-card" data-aos="fade-up" data-location="Nelspruit" data-date="2023-09-20">
                    <div class="event-badge past">Past Event</div>
                    <div class="event-image">
                        <img src="/assets/events/events.png" alt="Photography Workshop" loading="lazy">
                    </div>
                    <div class="event-content">
                        <div class="event-date">
                            <span class="day">20</span>
                            <span class="month">SEP</span>
                            <span class="year">2023</span>
                        </div>
                        <h3 class="event-title">Photography Workshop</h3>
                        <div class="event-meta">
                            <span class="location"><i class="fas fa-map-marker-alt"></i> Nelspruit</span>
                            <span class="time"><i class="far fa-clock"></i> 8:00 AM - 5:00 PM</span>
                        </div>
                        <p class="event-description">Mastered professional photography techniques with hands-on training.</p>
                        <div class="event-footer">
                            <a href="#" class="view-gallery-btn">View Gallery</a>
                            <a href="#" class="view-resources-btn">Resources</a>
                        </div>
                    </div>
                </div>

                <div class="event-card" data-aos="fade-up" data-location="Pietermaritzburg" data-date="2023-10-10">
                    <div class="event-badge past">Past Event</div>
                    <div class="event-image">
                        <img src="/assets/events/events.png" alt="Media Ethics Forum" loading="lazy">
                    </div>
                    <div class="event-content">
                        <div class="event-date">
                            <span class="day">10</span>
                            <span class="month">OCT</span>
                            <span class="year">2023</span>
                        </div>
                        <h3 class="event-title">Media Ethics Forum</h3>
                        <div class="event-meta">
                            <span class="location"><i class="fas fa-map-marker-alt"></i> Pietermaritzburg</span>
                            <span class="time"><i class="far fa-clock"></i> 2:00 PM - 6:00 PM</span>
                        </div>
                        <p class="event-description">Discussed ethical challenges and solutions in modern media practice.</p>
                        <div class="event-footer">
                            <a href="#" class="view-gallery-btn">View Gallery</a>
                            <a href="#" class="view-resources-btn">Resources</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Newsletter Section -->
        <section class="events-newsletter">
     <div class="newsletter-container">
    <div class="newsletter-content">
      <h2>Stay Updated</h2>
      <p>Subscribe to our newsletter for daily news updates</p>
      <form class="newsletter-form" id="newsletterForm">
        <input type="email" name="email" placeholder="Your email address" required>
        <button type="submit">Subscribe</button>
      </form>
      <p id="responseMessage"></p>
    </div>
  </div>
        </section>
             <!-- Newsletter Section -->


    </main>

     <!-- Footer Section -->
     <%- include('../partials/footer.ejs') %>

    <!-- Back to Top Button -->
    <button id="backToTop" title="Go to top"><i class="fas fa-arrow-up"></i></button>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <script src="/public/scrips/scipt.js"></script>
    <script>
    document.getElementById('newsletterForm').addEventListener('submit', async function(e) {
  e.preventDefault();
  const email = this.email.value;
  const responseMessage = document.getElementById('responseMessage');
  
  try {
    const res = await fetch('/subscribe', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email })
    });

    const data = await res.json();
    responseMessage.textContent = data.message;
    responseMessage.style.color = res.ok ? 'green' : 'red';
    if (res.ok) this.reset();
  } catch (error) {
    responseMessage.textContent = 'Network error, please try again.';
    responseMessage.style.color = 'red';
  }
});

        // Initialize AOS animation library
        AOS.init({
            duration: 800,
            easing: 'ease-in-out',
            once: true
        });

        // Back to Top Button
        window.onscroll = function() {
            const backToTop = document.getElementById('backToTop');
            if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
                backToTop.style.display = 'block';
                backToTop.style.opacity = '1';
            } else {
                backToTop.style.opacity = '0';
                setTimeout(() => {
                    if (document.body.scrollTop <= 300 && document.documentElement.scrollTop <= 300) {
                        backToTop.style.display = 'none';
                    }
                }, 300);
            }
        };

        document.getElementById('backToTop').onclick = function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        };

        // Enhanced Search Functionality
        function searchEvents() {
            const input = document.getElementById('searchInput').value.toLowerCase();
            const events = document.querySelectorAll('.event-card');
            const activeTab = document.querySelector('.tab-button.active').textContent.toLowerCase();
            const locationFilter = document.getElementById('locationFilter').value.toLowerCase();
            let noResults = true;

            events.forEach(event => {
                const isVisible = (activeTab.includes('upcoming') && event.querySelector('.event-badge').textContent.toLowerCase() === 'upcoming') ||
                                 (activeTab.includes('past') && event.querySelector('.event-badge').textContent.toLowerCase().includes('past'));
                
                if (!isVisible) {
                    event.style.display = 'none';
                    return;
                }

                const title = event.querySelector('.event-title').textContent.toLowerCase();
                const description = event.querySelector('.event-description').textContent.toLowerCase();
                const location = event.querySelector('.location').textContent.toLowerCase();
                const date = event.getAttribute('data-date');
                
                const matchesSearch = title.includes(input) || description.includes(input) || location.includes(input) || date.includes(input);
                const matchesLocation = locationFilter === '' || location.includes(locationFilter);

                if (matchesSearch && matchesLocation) {
                    event.style.display = '';
                    noResults = false;
                } else {
                    event.style.display = 'none';
                }
            });

            document.getElementById('no-results').style.display = noResults ? 'block' : 'none';
        }

        // Location Filter Functionality
        function filterEvents() {
            searchEvents();
        }

        // Tabbed Interface Functionality
        function showUpcomingEvents() {
            document.getElementById('upcoming-events').style.display = 'block';
            document.getElementById('past-events').style.display = 'none';
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            document.querySelector('.tab-button:first-child').classList.add('active');
            searchEvents();
        }

        function showPastEvents() {
            document.getElementById('upcoming-events').style.display = 'none';
            document.getElementById('past-events').style.display = 'block';
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            document.querySelector('.tab-button:last-child').classList.add('active');
            searchEvents();
        }

        // Show upcoming events by default
        showUpcomingEvents();
    </script>
</body>
</html>